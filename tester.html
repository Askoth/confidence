<html>
    <head>
        <title>AB Result Display Scratchpad</title>
        <link rel="stylesheet" type="text/css" href="confidence.css">
        <script src="jquery/jquery-1.9.1.min.js"></script>
        <script src="statistics-distributions.js"></script>
        <script src="experiment.js"></script>
        <script type="text/javascript" src="vue/vue.js"></script>
        <style>
            .sim { display: none; }
            .exp_name { display: none; }
            .exp_box_hoverlay { display: none; }
        </style>
    </head>
    <body>
    	<div id="app-tester">
			<h1 class="experiments">AB Result Display Scratchpad</h1>

			<p class="experiments">
				B traffic <input v-model="b.traffic"/> 
				B conversions <input v-model="b.conversions"/>
			</p>
			<p class="experiments">
				V traffic <input v-model="v.traffic"/> 
				V conversions <input v-model="v.conversions"/>
			</p>

			<div class="experiments" id="experiment"></div>
		</div>

        <script type="text/javascript">
			tester = new Vue({
				el: '#app-tester',
				data: {
					b: { traffic: 10000, conversions: 500 },
					v: { traffic: 10000, conversions: 560 },
				},
				mounted: function() {
					this.show_results();
				},
				computed: {
					experiment: function() {
						e = new Experiment(0);
						e.visits = [this.b.traffic, this.v.traffic];
						e.conversions = [this.b.conversions, this.v.conversions];
						return e;
					}
				},
				methods: {
					show_results: function() {
						$("#experiment").empty().append(this.experiment.paint());
						this.experiment.paint_update();
					}
				},
				watch: {
					experiment: function(val) {
						this.show_results();
					}
				}
			});
		</script>
    </body>
</html>